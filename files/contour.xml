<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE Map
[
<!ENTITY maxscale_zoom0 "<MaxScaleDenominator>250000000000</MaxScaleDenominator>">
<!ENTITY maxscale_zoom1 "<MaxScaleDenominator>500000000</MaxScaleDenominator>">
<!ENTITY minscale_zoom1 "<MinScaleDenominator>200000000</MinScaleDenominator>">
<!ENTITY maxscale_zoom2 "<MaxScaleDenominator>200000000</MaxScaleDenominator>">
<!ENTITY minscale_zoom2 "<MinScaleDenominator>100000000</MinScaleDenominator>">
<!ENTITY maxscale_zoom3 "<MaxScaleDenominator>100000000</MaxScaleDenominator>">
<!ENTITY minscale_zoom3 "<MinScaleDenominator>50000000</MinScaleDenominator>">
<!ENTITY maxscale_zoom4 "<MaxScaleDenominator>50000000</MaxScaleDenominator>">
<!ENTITY minscale_zoom4 "<MinScaleDenominator>25000000</MinScaleDenominator>">
<!ENTITY maxscale_zoom5 "<MaxScaleDenominator>25000000</MaxScaleDenominator>">
<!ENTITY minscale_zoom5 "<MinScaleDenominator>12500000</MinScaleDenominator>">
<!ENTITY maxscale_zoom6 "<MaxScaleDenominator>12500000</MaxScaleDenominator>">
<!ENTITY minscale_zoom6 "<MinScaleDenominator>6500000</MinScaleDenominator>">
<!ENTITY maxscale_zoom7 "<MaxScaleDenominator>6500000</MaxScaleDenominator>">
<!ENTITY minscale_zoom7 "<MinScaleDenominator>3000000</MinScaleDenominator>">
<!ENTITY maxscale_zoom8 "<MaxScaleDenominator>3000000</MaxScaleDenominator>">
<!ENTITY minscale_zoom8 "<MinScaleDenominator>1500000</MinScaleDenominator>">
<!ENTITY maxscale_zoom9 "<MaxScaleDenominator>1500000</MaxScaleDenominator>">
<!ENTITY minscale_zoom9 "<MinScaleDenominator>750000</MinScaleDenominator>">
<!ENTITY maxscale_zoom10 "<MaxScaleDenominator>750000</MaxScaleDenominator>">
<!ENTITY minscale_zoom10 "<MinScaleDenominator>400000</MinScaleDenominator>">
<!ENTITY maxscale_zoom11 "<MaxScaleDenominator>400000</MaxScaleDenominator>">
<!ENTITY minscale_zoom11 "<MinScaleDenominator>200000</MinScaleDenominator>">
<!ENTITY maxscale_zoom12 "<MaxScaleDenominator>200000</MaxScaleDenominator>">
<!ENTITY minscale_zoom12 "<MinScaleDenominator>100000</MinScaleDenominator>">
<!ENTITY maxscale_zoom13 "<MaxScaleDenominator>100000</MaxScaleDenominator>">
<!ENTITY minscale_zoom13 "<MinScaleDenominator>50000</MinScaleDenominator>"> 
<!ENTITY maxscale_zoom14 "<MaxScaleDenominator>50000</MaxScaleDenominator>">
<!ENTITY minscale_zoom14 "<MinScaleDenominator>25000</MinScaleDenominator>">
<!ENTITY maxscale_zoom15 "<MaxScaleDenominator>25000</MaxScaleDenominator>">
<!ENTITY minscale_zoom15 "<MinScaleDenominator>12500</MinScaleDenominator>">
<!ENTITY maxscale_zoom16 "<MaxScaleDenominator>12500</MaxScaleDenominator>">
<!ENTITY minscale_zoom16 "<MinScaleDenominator>5000</MinScaleDenominator>">
<!ENTITY maxscale_zoom17 "<MaxScaleDenominator>5000</MaxScaleDenominator>">
<!ENTITY minscale_zoom17 "<MinScaleDenominator>2500</MinScaleDenominator>">
<!ENTITY maxscale_zoom18 "<MaxScaleDenominator>2500</MaxScaleDenominator>">
<!ENTITY minscale_zoom18 "">

]>
<Map bgcolor="transparent" srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs +over" buffer-size="256">
<FontSet name="serif-book"> 
  <Font face-name="DejaVu Serif Book" /> 
  <Font face-name="Unifont Medium" /> 
</FontSet> 
<FontSet name="sans-book"> 
  <Font face-name="DejaVu Sans Book" /> 
  <Font face-name="Unifont Medium" /> 
</FontSet> 
<FontSet name="sans-condensed"> 
  <Font face-name="DejaVu Sans Condensed" /> 
  <Font face-name="Unifont Medium" /> 
</FontSet> 
<FontSet name="sans-condensed-oblique"> 
  <Font face-name="DejaVu Sans Condensed Oblique" /> 
  <Font face-name="Unifont Medium" /> 
</FontSet> 
<FontSet name="sans-extralight"> 
  <Font face-name="DejaVu Sans ExtraLight" /> 
  <Font face-name="Unifont Medium" /> 
</FontSet> 
<FontSet name="sans-condensed-bold"> 
  <Font face-name="DejaVu Sans Condensed Bold" /> 
  <Font face-name="Unifont Medium" /> 
</FontSet> 
<FontSet name="sans-oblique"> 
  <Font face-name="DejaVu Sans Oblique" /> 
  <Font face-name="Unifont Medium" /> 
</FontSet> 
 

<Style name="contours">
	<!-- 100 m -->
	<!--<Rule>
		&maxscale_zoom10;
		&minscale_zoom10;
		<Filter>([height] % 100 = 0) and ([height] != 0)</Filter>
		<LineSymbolizer stroke="#d45500" stroke-width="0.1" />
	</Rule>-->
	<Rule>
		&maxscale_zoom11;
		&minscale_zoom11;
		<Filter>([height] % 100 = 0) and ([height] != 0)</Filter>
		<LineSymbolizer stroke="#d45500" stroke-width="0.2" />
	</Rule>
	<Rule>
		&maxscale_zoom12;
		&minscale_zoom12;
		<Filter>([height] % 100 = 0) and ([height] != 0)</Filter>
		<LineSymbolizer stroke="#d45500" stroke-width="0.4" />
	</Rule>
	<Rule>
		&maxscale_zoom13;
		&minscale_zoom13;
		<Filter>([height] % 100 = 0) and ([height] != 0)</Filter>
		<LineSymbolizer stroke="#d45500" stroke-width="0.5"  />
	</Rule>
	<Rule>
		&maxscale_zoom14;
		&minscale_zoom17;
		<Filter>([height] % 100 = 0) and ([height] != 0)</Filter>
		<LineSymbolizer stroke="#d45500" stroke-width="0.6" smooth="0.5" />
	</Rule>
	<Rule>
		&maxscale_zoom11;
		&minscale_zoom14;
		<Filter>([height] % 100 = 0) and ([height] != 0)</Filter>
		<TextSymbolizer fontset-name="sans-book" size="7" fill="#bc7e55" halo-radius="1" halo-fill="rgba(255,255,255,1)" halo-comp-op="soft-light" placement="line" max-char-angle-delta="10" label-position-tolerance="100" minimum-path-length="200" spacing="200">[height]</TextSymbolizer>
	</Rule>

	<!-- 50 m -->
	 <Rule>
		&maxscale_zoom11;
		&minscale_zoom11;
		<Filter>([height] % 100 != 0) and ([height] % 50 = 0) and ([height] != 0)</Filter>
		<LineSymbolizer stroke="#d45500" stroke-width="0.2" />
	</Rule>
	<Rule>
		&maxscale_zoom13;
		&minscale_zoom13;
		<Filter>([height] % 100 != 0) and ([height] % 50 = 0) and ([height] != 0)</Filter>
		<LineSymbolizer stroke="#d45500" stroke-width="0.3"  />
	</Rule>
	<Rule>
		&maxscale_zoom14;
		&minscale_zoom17;
		<Filter>([height] % 100 != 0) and ([height] % 50 = 0) and ([height] != 0)</Filter>
		<LineSymbolizer stroke="#d45500" stroke-width="0.4" smooth="0.5" />
	</Rule>
	<Rule>
		&maxscale_zoom14;
		&minscale_zoom14;
		<Filter>([height] % 100 != 0) and ([height] % 50 = 0) and ([height] != 0)</Filter>
		<TextSymbolizer fontset-name="sans-book" size="7" fill="#bc7e55" halo-radius="1" halo-fill="rgba(255,255,255,0.8)" halo-comp-op="soft-light" placement="line" max-char-angle-delta="10" label-position-tolerance="100" minimum-path-length="200" spacing="200">[height]</TextSymbolizer>
	</Rule>

	<!-- 20 m -->
	 <Rule>
		&maxscale_zoom12;
		&minscale_zoom12;
		<Filter>([height] % 100 != 0) and ([height] % 20 = 0) and ([height] != 0)</Filter>
		<LineSymbolizer stroke="#d45500" stroke-width="0.2"  smooth="0.5" />
	</Rule>

	<!-- 10 m -->
	<Rule>
		&maxscale_zoom13;
		&minscale_zoom17;
		<Filter>([height] % 50 != 0) and ([height] % 10 = 0) and ([height] != 0)</Filter>
		<LineSymbolizer stroke="#d45500" stroke-width="0.2" smooth="0.5" />
	</Rule>
	<Rule>
		&maxscale_zoom15;
		&minscale_zoom17;
		<Filter>([height] % 10 = 0) and ([height] != 0)</Filter>
		<TextSymbolizer fontset-name="sans-book" size="7" fill="#bc7e55" halo-radius="1" halo-fill="rgba(255,255,255,0.3)" placement="line" max-char-angle-delta="10" label-position-tolerance="100" minimum-path-length="300" spacing="800">[height]</TextSymbolizer>
	</Rule>
</Style>

	<Layer name="contours">
		<StyleName>contours</StyleName>
		<Datasource>
			<Parameter name="type">postgis</Parameter>
                        <Parameter name="table">(SELECT way,ele FROM contours) AS contours</Parameter>
			<Parameter name="dbname">contours</Parameter>
			<Parameter name="host">gis-db</Parameter>
			<Parameter name="user">maposmatic</Parameter>
			<Parameter name="password">secret</Parameter>
                        <Parameter name="estimate_extent">false</Parameter>
                	<Parameter name="extent">-20037508,-19929239,20037508,19929239</Parameter>
                 </Datasource>
	</Layer>
	
</Map>

